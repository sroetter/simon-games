<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Trainer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a0a2e 0%, #2d1b4e 50%, #0f0a1f 100%);
            position: relative;
            overflow: hidden;
        }

        body::before {
            content: 'üéÉüëªü¶áüï∑Ô∏èüï∏Ô∏è';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            font-size: 100px;
            opacity: 0.05;
            pointer-events: none;
            z-index: 0;
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .container {
            text-align: center;
            background: linear-gradient(135deg, #1a0a2e 0%, #16213e 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(255, 94, 0, 0.4), 0 0 100px rgba(138, 43, 226, 0.3);
            max-width: 900px;
            width: 90%;
            border: 2px solid #ff6b00;
            position: relative;
            z-index: 1;
        }

        h1 {
            color: #ff6b00;
            margin-bottom: 10px;
            font-size: 42px;
            text-shadow: 0 0 20px #ff6b00, 0 0 40px #ff6b00;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px #ff6b00, 0 0 40px #ff6b00; }
            50% { text-shadow: 0 0 30px #ff6b00, 0 0 60px #ff6b00, 0 0 80px #ff6b00; }
        }

        .subtitle {
            color: #b8b8b8;
            margin-bottom: 30px;
            font-size: 18px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: rgba(255, 107, 0, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            margin: 5px;
            border: 1px solid #ff6b00;
        }

        .stat-label {
            font-size: 14px;
            color: #b8b8b8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #ff6b00;
            text-shadow: 0 0 10px #ff6b00;
        }

        .text-display {
            background: rgba(0, 0, 0, 0.4);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 24px;
            line-height: 1.8;
            text-align: left;
            min-height: 150px;
            font-family: 'Courier New', monospace;
            border: 1px solid #8a2be2;
            box-shadow: inset 0 0 20px rgba(138, 43, 226, 0.2);
            color: #e0e0e0;
        }

        .text-display span {
            transition: all 0.1s;
        }

        .text-display .correct {
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
        }

        .text-display .incorrect {
            color: #ff0000;
            background: rgba(255, 0, 0, 0.2);
            text-shadow: 0 0 5px #ff0000;
        }

        .text-display .current {
            background: #ff6b00;
            color: white;
            padding: 2px 4px;
            border-radius: 3px;
            box-shadow: 0 0 10px #ff6b00;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .input-area {
            margin-bottom: 20px;
        }

        #typingInput {
            width: 100%;
            padding: 15px;
            font-size: 20px;
            border: 3px solid #ff6b00;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            outline: none;
            background: rgba(0, 0, 0, 0.5);
            color: #e0e0e0;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.3);
        }

        #typingInput:focus {
            box-shadow: 0 0 25px rgba(255, 107, 0, 0.6);
        }

        #typingInput:disabled {
            background: rgba(0, 0, 0, 0.3);
            cursor: not-allowed;
            border-color: #666;
            box-shadow: none;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            background: linear-gradient(135deg, #ff6b00 0%, #ff8c00 100%);
            color: white;
            border: 2px solid #ff6b00;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.4);
        }

        button:hover {
            background: linear-gradient(135deg, #ff8c00 0%, #ffa500 100%);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 107, 0, 0.6);
        }

        button:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
            border-color: #666;
            box-shadow: none;
        }

        .backButton {
            background: linear-gradient(135deg, #8a2be2 0%, #9b59b6 100%);
            border-color: #8a2be2;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.4);
        }

        .backButton:hover {
            background: linear-gradient(135deg, #9b59b6 0%, #a569bd 100%);
            box-shadow: 0 0 25px rgba(138, 43, 226, 0.6);
        }

        .difficulty-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 10px 25px;
            font-size: 16px;
            background: rgba(255, 107, 0, 0.1);
            color: #ff6b00;
            border: 1px solid #ff6b00;
        }

        .difficulty-btn.active {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8c00 100%);
            color: white;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.5);
        }

        .result-screen {
            display: none;
            text-align: center;
        }

        .result-screen.show {
            display: block;
        }

        .result-screen h2 {
            color: #ff6b00;
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff6b00;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .result-stat {
            background: rgba(255, 107, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #ff6b00;
        }

        .result-stat-label {
            font-size: 16px;
            color: #b8b8b8;
            margin-bottom: 10px;
        }

        .result-stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #ff6b00;
            text-shadow: 0 0 10px #ff6b00;
        }

        .accuracy-bar {
            width: 100%;
            height: 30px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
            border: 1px solid #8a2be2;
        }

        .accuracy-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b00, #ffa500);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.6);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Trainer</h1>
        <p class="subtitle">Improve your typing skills one word at a time!</p>

        <div class="difficulty-buttons">
            <button class="difficulty-btn active" data-level="easy">Easy</button>
            <button class="difficulty-btn" data-level="medium">Medium</button>
            <button class="difficulty-btn" data-level="hard">Hard</button>
        </div>

        <div class="difficulty-buttons" style="margin-bottom: 20px;">
            <button class="difficulty-btn" data-level="homerow">Home Row</button>
            <button class="difficulty-btn" data-level="toprow">Top Row</button>
            <button class="difficulty-btn" data-level="bottomrow">Bottom Row</button>
            <button class="difficulty-btn" data-level="numbers">Numbers</button>
            <button class="difficulty-btn" data-level="symbols">Symbols</button>
        </div>

        <div id="gameArea">
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">WPM</div>
                    <div class="stat-value" id="wpm">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Accuracy</div>
                    <div class="stat-value" id="accuracy">100%</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Time</div>
                    <div class="stat-value" id="timer">0s</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Errors</div>
                    <div class="stat-value" id="errors">0</div>
                </div>
            </div>

            <div class="text-display" id="textDisplay"></div>

            <div class="input-area">
                <input type="text" id="typingInput" placeholder="Click 'Start' to begin typing..." disabled>
            </div>

            <div class="buttons">
                <button id="startBtn">Start</button>
                <button id="resetBtn">Reset</button>
                <button class="backButton" onclick="window.location.href='index.html'">Back to Home</button>
            </div>
        </div>

        <div id="resultScreen" class="result-screen">
            <h2>Great Job!</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <div class="result-stat-label">Words Per Minute</div>
                    <div class="result-stat-value" id="finalWPM">0</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-label">Accuracy</div>
                    <div class="result-stat-value" id="finalAccuracy">0%</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-label">Total Time</div>
                    <div class="result-stat-value" id="finalTime">0s</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-label">Total Errors</div>
                    <div class="result-stat-value" id="finalErrors">0</div>
                </div>
            </div>
            <div class="accuracy-bar">
                <div class="accuracy-fill" id="accuracyBar">0%</div>
            </div>
            <div class="buttons" style="margin-top: 30px;">
                <button id="playAgainBtn">Play Again</button>
                <button class="backButton" onclick="window.location.href='index.html'">Back to Home</button>
            </div>
        </div>
    </div>

    <script>
        // Text samples for different difficulties
        const texts = {
            easy: [
                "the quick brown fox jumps over the lazy dog",
                "typing is a useful skill to learn and practice",
                "practice makes perfect when learning to type",
                "keep your fingers on the home row keys",
                "good posture helps you type faster and longer"
            ],
            medium: [
                "Programming requires precision and attention to detail in every line of code.",
                "The keyboard layout we use today was designed over a century ago.",
                "Touch typing can significantly improve your productivity and efficiency.",
                "Regular practice sessions help build muscle memory for typing.",
                "Ergonomic keyboards can reduce strain during extended typing sessions."
            ],
            hard: [
                "Sophisticated algorithms optimize performance through strategic implementation patterns.",
                "The development of asynchronous programming paradigms revolutionized software architecture.",
                "Cryptographic protocols ensure secure communication across distributed networks worldwide.",
                "Machine learning frameworks utilize neural networks for complex pattern recognition tasks.",
                "Quantum computing promises exponential speedups for certain computational problems."
            ],
            homerow: [
                "asdf jkl; asdf jkl; :; asdf jkl; asdf",
                "aaa sss ddd fff jjj kkk lll ;;; aaa sss",
                "ask: sad; lad; fad: jak; has: hall; fall:",
                "dad; had: fas; sal: kaj; lash: dash; flash:",
                "salad; fall: hall; shall: flask; ask: dash;"
            ],
            toprow: [
                "qwerty uiop qwerty uiop[] qwerty uiop qwerty",
                "qqq www eee rrr ttt yyy uuu iii ooo ppp [][]",
                "quit[] wet{} rip[] tie{} you[] type{} rope[]",
                "[poetry] {tower} [power] {quite} [your] {write}",
                "rope[] tire{} wire[] power{} write[] reporter{}"
            ],
            bottomrow: [
                "zxcv bnm,. zxcv bnm,. zxcv bnm,. zxcv bnm",
                "zzz xxx ccc vvv bbb nnn mmm ,,, ... zzz xxx",
                "zap, box. cab, van. ban, man. can, nab.",
                "zinc, box. cave, mean. been, mann. banner,",
                "cabana, manna. bamboo, beacon. maven, vacant."
            ],
            numbers: [
                "123 456 789 012 345 678 901 234 567 890",
                "111 222 333 444 555 666 777 888 999 000",
                "12 23 34 45 56 67 78 89 90 01 12 23 34",
                "1234 5678 9012 3456 7890 1234 5678 9012",
                "10 20 30 40 50 60 70 80 90 100 200 300"
            ],
            symbols: [
                "!@# $%^ &*() _+- =[] {}|",
                "!!! @@@ ### $$$ %%% ^^^ &&& *** ((( )))",
                "hello! world@ code# test$ name% value^ key&",
                "var_name = function() { return true; }",
                "email@domain.com price=$99.99 score=100%"
            ]
        };

        let currentText = '';
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let errors = 0;
        let totalTyped = 0;
        let difficulty = 'easy';

        const textDisplay = document.getElementById('textDisplay');
        const typingInput = document.getElementById('typingInput');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const playAgainBtn = document.getElementById('playAgainBtn');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const timerDisplay = document.getElementById('timer');
        const errorsDisplay = document.getElementById('errors');
        const gameArea = document.getElementById('gameArea');
        const resultScreen = document.getElementById('resultScreen');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');

        // Difficulty selection
        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                if (startTime) return; // Don't allow change during game

                difficultyBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                difficulty = btn.dataset.level;
                loadNewText();
            });
        });

        function loadNewText() {
            const textArray = texts[difficulty];
            currentText = textArray[Math.floor(Math.random() * textArray.length)];
            currentIndex = 0;
            displayText();
        }

        function displayText() {
            textDisplay.innerHTML = currentText.split('').map((char, index) => {
                let className = '';
                if (index < currentIndex) {
                    className = typingInput.value[index] === char ? 'correct' : 'incorrect';
                } else if (index === currentIndex) {
                    className = 'current';
                }
                return `<span class="${className}">${char}</span>`;
            }).join('');
        }

        function startGame() {
            loadNewText();
            typingInput.value = '';
            typingInput.disabled = false;
            typingInput.focus();
            startTime = Date.now();
            errors = 0;
            totalTyped = 0;
            currentIndex = 0;

            startBtn.disabled = true;

            timerInterval = setInterval(updateStats, 100);
        }

        function updateStats() {
            if (!startTime) return;

            const timeElapsed = (Date.now() - startTime) / 1000;
            const minutes = timeElapsed / 60;

            // Calculate WPM (words = characters / 5)
            const wordsTyped = currentIndex / 5;
            const wpm = minutes > 0 ? Math.round(wordsTyped / minutes) : 0;

            // Calculate accuracy
            const accuracy = totalTyped > 0 ? Math.round(((totalTyped - errors) / totalTyped) * 100) : 100;

            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy + '%';
            timerDisplay.textContent = Math.floor(timeElapsed) + 's';
            errorsDisplay.textContent = errors;
        }

        function endGame() {
            clearInterval(timerInterval);
            typingInput.disabled = true;
            startBtn.disabled = false;

            const timeElapsed = (Date.now() - startTime) / 1000;
            const minutes = timeElapsed / 60;
            const wordsTyped = currentText.length / 5;
            const wpm = Math.round(wordsTyped / minutes);
            const accuracy = totalTyped > 0 ? Math.round(((totalTyped - errors) / totalTyped) * 100) : 100;

            // Show results
            document.getElementById('finalWPM').textContent = wpm;
            document.getElementById('finalAccuracy').textContent = accuracy + '%';
            document.getElementById('finalTime').textContent = Math.floor(timeElapsed) + 's';
            document.getElementById('finalErrors').textContent = errors;
            document.getElementById('accuracyBar').style.width = accuracy + '%';
            document.getElementById('accuracyBar').textContent = accuracy + '%';

            gameArea.style.display = 'none';
            resultScreen.classList.add('show');

            // Play success sound
            playSuccessSound();
        }

        function resetGame() {
            clearInterval(timerInterval);
            startTime = null;
            currentIndex = 0;
            errors = 0;
            totalTyped = 0;
            typingInput.value = '';
            typingInput.disabled = true;
            startBtn.disabled = false;

            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            timerDisplay.textContent = '0s';
            errorsDisplay.textContent = '0';

            loadNewText();
        }

        function playAgain() {
            resultScreen.classList.remove('show');
            gameArea.style.display = 'block';
            resetGame();
        }

        function playSuccessSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const notes = [261.63, 329.63, 392.00, 523.25]; // C, E, G, C (major chord)

            notes.forEach((frequency, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';

                const startTime = audioContext.currentTime + (index * 0.15);
                const stopTime = startTime + 0.3;

                gainNode.gain.setValueAtTime(0.2, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, stopTime);

                oscillator.start(startTime);
                oscillator.stop(stopTime);
            });
        }

        // Event listeners
        startBtn.addEventListener('click', startGame);
        resetBtn.addEventListener('click', resetGame);
        playAgainBtn.addEventListener('click', playAgain);

        typingInput.addEventListener('input', (e) => {
            if (!startTime) return;

            const typedChar = e.target.value[currentIndex];
            const expectedChar = currentText[currentIndex];

            if (typedChar !== undefined) {
                totalTyped++;
                if (typedChar !== expectedChar) {
                    errors++;
                }
                currentIndex++;
                displayText();

                // Check if finished
                if (currentIndex === currentText.length) {
                    endGame();
                }
            }
        });

        // Prevent backspace
        typingInput.addEventListener('keydown', (e) => {
            if (e.key === 'Backspace') {
                e.preventDefault();
            }
        });

        // Initialize
        loadNewText();
    </script>
</body>
</html>
